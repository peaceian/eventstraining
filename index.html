<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript事件綁定練習</title>
</head>

<body>
    <h2>onclick, ondblclick events</h2>
    <img id="myimg" src="http://picsum.photos/id/628/450/250"><br><br><!--綁定事件和回傳圖片寫在一起(用滑鼠事件作分別)-->
    <button onclick="image()" ondblclick="change()">一山二海</button><!--把事件寫在button內-->
    <script>
        function image() { document.getElementById('myimg').src = 'https://picsum.photos/id/558/450/250' };

        function change() { document.getElementById('myimg').src = 'https://picsum.photos/id/640/450/250' };
    </script>
    <br><br>
    <h2>onclick on two buttons</h2>
    <img id="myimg1" src="http://picsum.photos/id/628/450/250"><br><br><!--做兩個按鈕事件發生回傳相應的圖片-->
    <button onclick="mountain()">山</button>
    <button onclick="ocean()">海</button>
    <script>
        function mountain() { document.getElementById('myimg1').src = 'https://picsum.photos/id/558/450/250' };

        function ocean() { document.getElementById('myimg1').src = 'https://picsum.photos/id/640/450/250' };
    </script>
    <br><br>
    <h2>onclick in function </h2>
    <img id="myimg2" src="http://picsum.photos/id/628/450/250"><br><br><!--用.onclick綁定事件(class)-->
    <button class="btnOcean">一山二海</button><!--onclick in function not on the tag.-->
    <script>
        let btn = document.querySelector('.btnOcean');//querySelector('ID', 'class', 'Tag')
        btn.onclick = function () {
            document.getElementById('myimg2').src = 'https://picsum.photos/id/558/450/250';
        }//把滑鼠事件寫在函式內
        btn.ondblclick = function () {
            document.getElementById('myimg2').src = 'https://picsum.photos/id/640/450/250';
        }
    </script>
    <br><br>
    <h2>addEventListener:mouseover,mouseout</h2>
    <img id="myimg3" src="http://picsum.photos/id/628/450/250"><br><br>
    <script>
        document.getElementById('myimg3').addEventListener('mouseover', mouseOver);//使用addEventListener將事件綁定(同一事件可重複綁定(Alert))
        document.getElementById('myimg3').addEventListener('mouseout', mouseOut);//(event,function,useCapture)
        function mouseOver() { document.getElementById('myimg3').src = 'https://picsum.photos/id/558/450/250'; }
        function mouseOut() { document.getElementById('myimg3').src = 'https://picsum.photos/id/640/450/250'; }
    </script>
    <br><br>
    <h2>addEventListener:click,dblclick</h2>
    <img id="myimg4" src="http://picsum.photos/id/628/450/250"><br><br>
    <script>
        document.getElementById('myimg4').addEventListener('click', click1);//('事件名稱'，事件處理函數，布林值(預設冒泡))
        document.getElementById('myimg4').addEventListener('dblclick', click2);//click不能綁定兩個事件，只會執行最後一個，其中一個要設定連點
        function click1() { document.getElementById('myimg4').src = 'https://picsum.photos/id/558/450/250'; }
        function click2() { document.getElementById('myimg4').src = 'https://picsum.photos/id/640/450/250'; }
    </script>
    <h2>e.preventDefault: cancel the default function.</h2>
    <br><br>
    <a href="https://zh.wikipedia.org/zh-tw/%E5%93%88%E5%88%A9%C2%B7%E6%B3%A2%E7%89%B9" target="_blank">HarryPotter</a>
    <script>
        let list = document.querySelector('a');//select the <a> 
        list.addEventListener('click', function (e) { e.preventDefault(); }, false);//default the <a>
    </script>
    <h2>e.stopPropogation: stop the bubble(Clicking the box is not work.)</h2>
    <br><br>
    <div class="box" style="border: black 3px solid;width: fit-content;padding: 15px;">box
        <a href="https://zh.wikipedia.org/zh-tw/%E5%8F%B0%E7%81%A3%E9%BA%BB%E5%B0%87" target="_blank" style="display: block;">
            <img src="mahjong2.png" width="100" height="auto" class="bodybox"
                style="border: solid 1px black;">
        </a>
    </div>
    <script>
        let box = document.querySelector('.box');//點box不會跳連結
        box.addEventListener('click', function (e) { alert('clickbox') }, false);
        let bodybox = document.querySelector('.body');//沒有e.stopPropogation，clickbox、clickbody都會跳出
        box.addEventListener('click', function (e) { e.stopPropogation(); alert('clickbody') }, false);//有stopPropogation()就不會有父元素的監聽
    </script>

</body>

</html>
